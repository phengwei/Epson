ALTER TABLE audit_trail MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE category MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE email_account MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE email_queue MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE product MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE productcategory MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE request MODIFY id INT PRIMARY KEY AUTO_INCREMENT;

ALTER TABLE request
MODIFY COLUMN ManagerId VARCHAR(50);

CREATE TABLE RequestProduct (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  RequestId INT NOT NULL,
  ProductId INT NOT NULL,
  CONSTRAINT FK_RequestProduct_Request FOREIGN KEY (RequestId)
    REFERENCES Request(Id),
  CONSTRAINT FK_RequestProduct_Product FOREIGN KEY (ProductId)
    REFERENCES Product(Id)
);

ALTER TABLE Request
DROP COLUMN ProductId;

ALTER TABLE requestproduct ADD COLUMN quantity INT;

ALTER TABLE request
MODIFY COLUMN TimeToResolution Time;

ALTER TABLE request
MODIFY COLUMN ApprovedBy VARCHAR(50);

CREATE TABLE SLAHoliday (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  Date DATE NOT NULL,
  Description VARCHAR(255),
  IsAdhoc BOOLEAN NOT NULL DEFAULT 0
);

CREATE TABLE SLAStaffLeave (
  Id INT AUTO_INCREMENT PRIMARY KEY,
  StaffId INT NOT NULL,
  StartDate DATE NOT NULL,
  EndDate DATE NOT NULL,
  Reason VARCHAR(255)
);